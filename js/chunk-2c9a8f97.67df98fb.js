(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c9a8f97"],{2182:function(t,e,r){"use strict";r("d158")},"369c":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"user-follower"}},[r("div",{staticClass:"navbar"},[r("NavBars")],1),r("div",{staticClass:"follower-center"},[r("div",{staticClass:"navtabs"}),r("div",{staticClass:"follow-tabs"},[r("UserFollowTabs")],1),r("div",{staticClass:"follower-list"},[r("ul",{staticClass:"list"},t._l(t.followers,(function(e){return r("li",{key:e.Followship.id,staticClass:"item d-flex"},[r("img",{staticClass:"avatar",attrs:{src:e.avatar}}),r("div",{staticClass:"content"},[r("div",{staticClass:"wrapper d-flex justify-content-between"},[r("div",{staticClass:"info"},[r("p",{staticClass:"name"},[t._v(t._s(e.name))]),r("a",{staticClass:"account",attrs:{href:""}},[t._v(t._s(e.account))])]),r("div",{staticClass:"btn-control"},[e.isFollowed?r("button",{staticClass:"btn following-btn",attrs:{type:"button"},on:{click:function(r){return r.stopPropagation(),r.preventDefault(),t.unfollow(e.followerId)}}},[t._v(" 正在跟隨 ")]):r("button",{staticClass:"btn follow-btn",attrs:{type:"button"},on:{click:function(r){return r.stopPropagation(),r.preventDefault(),t.follow(e.followerId)}}},[t._v(" 跟隨 ")])])]),r("p",{staticClass:"introduction"},[t._v(t._s(e.introduction))])])])})),0)])]),r("div",{staticClass:"bar-right"},[r("Popular")],1)])},s=[],n=r("1da1"),o=(r("7db0"),r("96cf"),r("0baf")),i=r("3b8f"),l=r("51a9"),c=r("1602"),u=r("2fa3"),f={components:{NavBars:o["a"],Popular:i["a"],UserFollowTabs:l["a"]},data:function(){return{followers:[],userid:""}},created:function(){var t=this.$route.params.userid;this.userid=t,this.fetchFollowers(t)},beforeRouteUpdate:function(t,e,r){var a=t.params.userid;this.userid=a,this.fetchFollowers(a),r()},methods:{fetchFollowers:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,c["a"].getUserFollowers({userid:t});case 3:a=r.sent,s=a.data,e.followers=s,r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](0),u["a"].fire({type:"error",title:"無法取得資料，請稍後再試"});case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))()},follow:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var a,s,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,console.log(e.userid),r.next=4,c["a"].addFollowed({id:t});case 4:if(a=r.sent,s=a.data,"success"===s.status){r.next=8;break}throw new Error(s.message);case 8:u["a"].fire({icon:"success",title:"成功跟隨"}),n=e.followers.find((function(e){return e.followerId===t})),n.isFollowed=!0,r.next=17;break;case 13:r.prev=13,r.t0=r["catch"](0),console.log(r.t0),u["a"].fire({icon:"error",title:"無法跟隨，請稍後再試"});case 17:case"end":return r.stop()}}),r,null,[[0,13]])})))()},unfollow:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var a,s,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,c["a"].deleteFollowed({id:t});case 3:if(a=r.sent,s=a.data,"success"===s.status){r.next=7;break}throw new Error(s.message);case 7:u["a"].fire({icon:"success",title:"成功取消跟隨"}),n=e.followers.find((function(e){return e.followerId===t})),n.isFollowed=!1,r.next=16;break;case 12:r.prev=12,r.t0=r["catch"](0),console.log(r.t0),u["a"].fire({icon:"error",title:"無法取消跟隨，請稍後再試"});case 16:case"end":return r.stop()}}),r,null,[[0,12]])})))()}}},d=f,w=(r("f858"),r("2877")),p=Object(w["a"])(d,a,s,!1,null,"1a6a137a",null);e["default"]=p.exports},"51a9":function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"follow-tabs d-flex"},t._l(t.tabs,(function(e){return r("li",{key:e.id,staticClass:"tab-item"},[r("router-link",{staticClass:"tab-link",attrs:{to:e.path}},[t._v(" "+t._s(e.title)+" ")])],1)})),0)},s=[],n=r("ec26"),o={data:function(){return{tabs:[{id:Object(n["a"])(),title:"跟隨者",path:{name:"followers",params:{userid:this.$route.params.userid}}},{id:Object(n["a"])(),title:"正在跟隨",path:{name:"followings",params:{userid:this.$route.params.userid}}}]}}},i=o,l=(r("2182"),r("2877")),c=Object(l["a"])(i,a,s,!1,null,"140a6060",null);e["a"]=c.exports},"7db0":function(t,e,r){"use strict";var a=r("23e7"),s=r("b727").find,n=r("44d2"),o="find",i=!0;o in[]&&Array(1)[o]((function(){i=!1})),a({target:"Array",proto:!0,forced:i},{find:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),n(o)},c428:function(t,e,r){},d158:function(t,e,r){},f858:function(t,e,r){"use strict";r("c428")}}]);
//# sourceMappingURL=chunk-2c9a8f97.67df98fb.js.map