(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3cbbd3a3"],{"384e":function(e,t,s){e.exports=s.p+"img/like_fill.4928d508.svg"},"4f2f":function(e,t,s){},"66ed":function(e,t,s){e.exports=s.p+"img/reply.17ee81ba.svg"},"7db0":function(e,t,s){"use strict";var a=s("23e7"),i=s("b727").find,r=s("44d2"),n="find",c=!0;n in[]&&Array(1)[n]((function(){c=!1})),a({target:"Array",proto:!0,forced:c},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r(n)},8909:function(e,t,s){e.exports=s.p+"img/like.bc64a292.svg"},"8f8e":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-tweets-container d-flex justify-content-center"},[a("ul",{staticClass:"user-tweet-list"},e._l(e.tweets,(function(t){return a("li",{key:t.id,staticClass:"tweet-item d-flex"},[a("div",{staticClass:"user-avatar"},[a("img",{staticClass:"avatar",attrs:{src:t.User.avatar}})]),a("div",{staticClass:"user-tweet-main"},[a("div",{staticClass:"user-info"},[a("span",{staticClass:"user name"},[e._v(e._s(t.User.name))]),a("a",{staticClass:"user account",attrs:{href:""}},[e._v(e._s(t.User.account))]),a("span",{staticClass:"seperater"},[e._v("•")]),a("span",{staticClass:"user created-at"},[e._v(e._s(e.isToday(t.createdAt)?e.fromNow(e.utcOffset(t.createdAt)):e.timeFormat(e.utcOffset(t.createdAt),"MM月DD日")))])]),a("p",{staticClass:"tweet-content"},[e._v(" "+e._s(t.description)+" ")]),a("div",{staticClass:"reply-likes d-flex align-items-center"},[a("div",{staticClass:"reply-wrapper d-flex align-items-center"},[a("img",{staticClass:"icon reply-icon",attrs:{src:s("66ed")}}),a("p",{staticClass:"counts reply-counts"},[e._v(e._s(t.replyCount))])]),a("div",{staticClass:"like-wrapper d-flex align-items-center"},[t.isLiked?[a("img",{staticClass:"icon isliked-icon",attrs:{src:s("384e")},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),e.doLike(t.id,!t.isLiked)}}}),a("p",{staticClass:"counts isliked-counts"},[e._v(e._s(t.likeCount))])]:[a("img",{staticClass:"icon like-icon",attrs:{src:s("8909")},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),e.doLike(t.id,!t.isLiked)}}}),a("p",{staticClass:"counts like-counts"},[e._v(e._s(t.likeCount))])]],2)])])])})),0)])},i=[],r=s("1da1"),n=(s("7db0"),s("96cf"),s("2708")),c=s("1602"),o=s("6783"),u=s("2fa3"),l={mixins:[n["a"]],data:function(){return{tweets:[]}},created:function(){var e=this.$route.params.userid;this.fetchTweets(e)},beforeRouteUpdate:function(e,t,s){var a=e.params.userid;this.fetchTweets(a),s()},methods:{fetchTweets:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){var a,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,c["a"].getUserTweet({userid:e});case 3:a=s.sent,i=a.data,t.tweets=i,s.next=11;break;case 8:s.prev=8,s.t0=s["catch"](0),u["a"].fire({type:"error",title:"無法取得使用者資料，請稍後再試"});case 11:case"end":return s.stop()}}),s,null,[[0,8]])})))()},doLike:function(e,t){var s=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var i,r,n,c,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,!t){a.next=7;break}return a.next=4,o["a"].likeTweet({tweetId:e});case 4:i=a.sent,a.next=10;break;case 7:return a.next=9,o["a"].unlikeTweet({tweetId:e});case 9:i=a.sent;case 10:if(r=i,n=r.data,"success"===n.status){a.next=13;break}throw new Error(n.message);case 13:c=t?"成功加入最愛":"成功移除最愛",u["a"].fire({icon:"success",title:c}),l=s.tweets.find((function(t){return t.id===e})),l.isLiked=t,t?l.likeCount++:l.likeCount--,a.next=24;break;case 20:a.prev=20,a.t0=a["catch"](0),console.log(a.t0),u["a"].fire({icon:"error",title:"無法 加入/移除 最愛"});case 24:case"end":return a.stop()}}),a,null,[[0,20]])})))()}}},f=l,d=(s("f7f5"),s("2877")),p=Object(d["a"])(f,a,i,!1,null,"c2c933c0",null);t["default"]=p.exports},f7f5:function(e,t,s){"use strict";s("4f2f")}}]);
//# sourceMappingURL=chunk-3cbbd3a3.1d516b56.js.map